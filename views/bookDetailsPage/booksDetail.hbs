<link rel="stylesheet" href="css/bookDetailInfo.css">
<link rel="stylesheet" href="css/comment.css">
<script src="js/comment.js"></script>
<div class="container">
    <div class="card">
        <div class="container-fliud">
            <p id="bookId"  style="display: none;">{{id}}</p>

            <div class="preview col-md-6">
                <div class="preview-pic tab-content">
                    <div class="tab-pane active bookimage" id="pic-1"><img class="book-img"
                            src="images/booksImage/{{imageLink}}" />
                    </div>
                </div>
            </div>
            <div class="details col-md-6">
                <h3 class="product-title">{{title}}</title>
                </h3>
                <div class="rating">
                    <div class="stars">
                        <span class="fa fa-star checked"></span>
                        <span class="fa fa-star checked"></span>
                        <span class="fa fa-star checked"></span>
                        <span class="fa fa-star"></span>
                        <span class="fa fa-star"></span>
                    </div>
                    <span class="review-no"><span id="comment-count-1"></span> bình luận</span>
                </div>
                <p class="product-description"><b>Tác giả:</b> {{author}}</p>
                <p class="product-description"><b>Nhà xuất bản:</b> {{publisher}}</p>
                <p class="product-description"><b>Giá tiền:</b> {{basePrice}} VND</p>
                <p class="product-description"><b>Số lượng</b> </p>
                <div class="def-number-input number-input safari_only mb-0">
                    <button onclick="this.parentNode.querySelector('input[type=number]').stepDown()"
                        class="minus">-</button>
                    <input style="margin: 0 5px" class="quantity" min="1" name="quantity" value="1" type="number">
                    <button onclick="this.parentNode.querySelector('input[type=number]').stepUp()"
                        class="plus">+</button>
                </div>
                <div class="action">
                    <button class="add-to-cart btn btn-default" type="button">Mua ngay</button>
                    <button class="add-to-cart btn btn-default" type="button">Thêm vào giỏ hàng</button>
                    <button class="like btn btn-default" type="button"><span class="fa fa-heart"></span></button>
                </div>
            </div>
        </div>
        <div class="classic-tabs border rounded px-4 pt-1" style="margin-top: 1rem;">
            <ul class="nav tabs-primary nav-justified" id="advancedTab" role="tablist">
                <li class="nav-item">
                    <a class="nav-link active show" id="description-tab" data-toggle="tab" href="#description"
                        role="tab" aria-controls="description" aria-selected="true">Mô tả</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" id="info-tab" data-toggle="tab" href="#info" role="tab" aria-controls="info"
                        aria-selected="false">Thông tin chi tiết</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" id="reviews-tab" data-toggle="tab" href="#reviews" onclick="return load_comment_paging();" role="tab"
                        aria-controls="reviews" aria-selected="false">Bình luận (<span id="comment-count-2"></span>)</a>
                </li>
            </ul>
            <div class="tab-content" id="advancedTabContent">
                <div class="tab-pane fade show active" id="description" role="tabpanel"
                    aria-labelledby="description-tab">
                    <h5>Product Description</h5>
                    <p class="small text-muted text-uppercase mb-2">Shirts</p>
                    <ul class="rating">
                        <li>
                            <i class="fas fa-star fa-sm text-primary"></i>
                        </li>
                        <li>
                            <i class="fas fa-star fa-sm text-primary"></i>
                        </li>
                        <li>
                            <i class="fas fa-star fa-sm text-primary"></i>
                        </li>
                        <li>
                            <i class="fas fa-star fa-sm text-primary"></i>
                        </li>
                        <li>
                            <i class="far fa-star fa-sm text-primary"></i>
                        </li>
                    </ul>
                    <h6>12.99 $</h6>
                    <p class="pt-1">Lorem ipsum dolor sit amet consectetur adipisicing elit. Numquam, sapiente illo. Sit
                        error voluptas repellat rerum quidem, soluta enim perferendis voluptates laboriosam. Distinctio,
                        officia quis dolore quos sapiente tempore alias.</p>
                </div>
                <div class="tab-pane fade" id="info" role="tabpanel" aria-labelledby="info-tab">
                    <h5>Additional Information</h5>
                    <table class="table table-striped table-bordered mt-3">
                        <thead>
                            <tr>
                                <th scope="row" class="w-150 dark-grey-text h6">Weight</th>
                                <td><em>0.3 kg</em></td>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <th scope="row" class="w-150 dark-grey-text h6">Dimensions</th>
                                <td><em>50 × 60 cm</em></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                
                <hr>
                <div class="tab-pane fade" id="reviews" role="tabpanel" aria-labelledby="reviews-tab">
                    <h5 class="mt-4">Gửi bình luận</h5>
                    <p>Email của bạn sẽ được bảo mật</p>
                    <hr>
                    <div>
                        <form id="comment-form" onsubmit ="return insert_comment();">
                            <!-- Your review -->
                            <div class="md-form md-outline">
                                <label for="form76">Suy nghĩ</label>
                                <textarea id="YourThoughts" id="form76" class="md-textarea form-control pr-6" placeholder="Suy nghĩ của bạn"rows="4"></textarea>
                            </div>
                            <!-- Name -->
                            <div class="md-form md-outline">
                                <label for="form75">Họ tên</label>
                                <input id="YourName" type="text" id="form75" class="form-control pr-6" placeholder="Họ tên của bạn">
                            </div>
                            <!-- Email -->
                            <div class="md-form md-outline">
                                <label for="form77">Email</label>
                                <input id="YourEmail" type="email" id="form77" class="form-control pr-6" placeholder="Email của bạn">
                            </div>
                            <br>
                            <div id="alert-success" class="alert alert-success" role="alert" style="display: none;">
                            </div>
                            <div id="alert-danger" class="alert alert-danger" role="alert" style="display: none;" >
                            </div>
                            <div class="text-right pb-2">
                                <input type="submit" onclick="return insert_comment()" value="Gửi" class="btn btn-primary"></input>
                            </div>
                        </form>
                    </div>
                    <h5><span id ="comment-count-3"></span> bình luận cho  <span>{{title}}</span></h5>
                    <div class="media mt-3 mb-4">
                        <div class="media-body">
                             <div class="tab-content">
                                <div class="tab-pane active" >                
                                    <ul id="comments-list" class="media-list"></ul>
                                </div>
                             </div>
                        </div>
                    </div>
                    <div class="button-bar">
                        <nav aria-label="Page navigation example">
                            <ul id="comment-paging" class="pagination">
                            </ul>
                        </nav>
                    </div>
                    <hr>
                    
                </div>
            </div>
        </div>
    </div>
</div>
<script src="js/comment.js"></script>
<script id="commentsList" type="text/x-handlebars-template">

    \{{#each this}}
        <li class="media" >
            <a class="pull-left" href="#">
            <img class="media-object img-circle" src="http://bootdey.com/img/Content/user_1.jpg" alt="profile">
            </a>
            <div class="media-body">
                <div class="well well-lg">
                    <h4 class="media-heading text-uppercase reviews">\{{name}} 
                        
                    </h4>
                    <h6 class="text-muted time">\{{createdDate}}</h6>
                    <p class="media-comment">
                        \{{content}}
                    </p>
                    
                </div>              
            </div>
            
        </li>
        <br/><br/>
    \{{/each}}

</script>

<script id="paging-list" type="text/x-handlebars-template">
	<li id="prevBtn" class="page-item " >
		<a   class="page-link " onclick="prevBtnClick()" aria-label="Previous">
			<span aria-hidden="true">&laquo;</span>
			<span class="sr-only">Previous</span>
		</a>
	</li>
	\{{#each this}}
		<li id="page-\{{curPage}}" onclick="setPage(this.textContent)" class="page-item"><a class="page-link">\{{curPage}}</a></li>
	\{{/each}}
	<li id="nextBtn" class="page-item">
		<a class="page-link" onclick="nextBtnClick()" aria-label="Next">
			<span aria-hidden="true">&raquo;</span>
			<span class="sr-only">Next</span>
		</a>
	</li>
</script>